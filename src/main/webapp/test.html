<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
	ul{
		list-style: none;
	}
	ul li{
		height: 30px;
	}
</style>
<script type="text/javascript" src="jquery-3.2.0.min.js"></script>
<script type="text/javascript">
	$(function(){
		
		/**
		 * 扩展序列化函数
		 */
		$.fn.serializeObj = function() {
			var serializeObj = {};
			var array = this.serializeArray();
			var str = this.serialize();
			$(array).each(
					function() {
						if (serializeObj[this.name]) {
							if ($.isArray(serializeObj[this.name])) {
								if (this.value) {
									serializeObj[this.name].push(this.value);
								}
							} else {
								if (this.value) {
									serializeObj[this.name] = [
											serializeObj[this.name], this.value ];
								}
							}
						} else {
							if (this.value) {
								serializeObj[this.name] = this.value;
							}
						}
					});
			return serializeObj;
		};
		
		// 添加用户
		$("#addUser").click(function(){
			var form = $("form").eq(0);
			var data = form.serializeObj();
			console.info(data);
			$.ajax({
				url:"api/userinfo/add",
				type:"post",
				data:data,
				success:function(data){
					console.info(data);
				}
			});
		});
		
		// 删除用户
		$("#delUser").click(function(){
			var url = "api/userinfo/"+$("#id1").val()+"/remove";
			//console.info(data);
			$.ajax({
				url:url,
				type:"delete",
			//	data:data,
				success:function(data){
					console.info(data);
				}
			});
		});
		
		
		// 修改用户
		$("#modifyUser").click(function(){
			var form = $("form#modify").eq(0);
			var data = form.serializeObj();
			console.info(data);
			$.ajax({
				url:"api/userinfo/modify",
				type:"put",
				data:data,
				success:function(data){
					console.info(data);
				}
			});
		});
	});
</script>
</head>
<body>
	<form action="">
		<ul>
			<li>用户名：<input name="userName"></li>
    		<li>昵称：<input name="nickName"/></li>
    		<li>姓名：<input name="name"/></li>
    		<li>密码：<input name="password"/></li>
    		<li>状态：<input name="status"/></li>
    		<li><input id="addUser" type="button" value="提交"/></li>
		</ul>
	</form>
	
	<form action="" id="del">
		<ul>
			<li>删除id：<input id="id1"></li>
    		<li><input id="delUser" type="button" value="提交"/></li>
		</ul>
	</form>
	
	<form action="" id="modify">
		<ul>
			<li>修改id:<input name="id"></li>
			<li>用户名：<input name="userName"></li>
    		<li>昵称：<input name="nickName"/></li>
    		<li>姓名：<input name="name"/></li>
    		<li>密码：<input name="password"/></li>
    		<li>状态：<input name="status"/></li>
    		<li><input id="modifyUser" type="button" value="提交"/></li>
		</ul>
	</form>
</body>
</html>